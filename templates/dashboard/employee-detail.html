{% extends 'layouts/base-presentation.html' %}

{% block title %} Task manager {% endblock title %}

<!-- Specific CSS goes HERE -->
{% block stylesheets %}{% endblock stylesheets %}

{% block body_class %} index-page {% endblock body_class %}

{% block content %}
  <header class="header-2">
    <div class="page-header section-height-75 relative" style="background-image: url('{{ ASSETS_ROOT }}/img/curved-images/curved.jpg')">
      <div class="container">
        <div class="row">
          <div class="col-lg-7 text-center">
            <h1 class="text-white pt-3 mt-n5">
              <a class="text-white">{{ user.username }}</a>
            </h1>
            {% if employee.team %}
              <p class="lead text-white mt-3">
                  Team: {{ employee.team }}
              </p>
            {% endif %}
            {% if employee %}
              <p class="lead text-white mt-3">
                  Role: {{ employee.role }}
              </p>
            {% endif %}
            <p class="lead text-white mt-3">
              Joined {{ employee.date_joined }}
            </p>
          </div>
        </div>
      </div>
      {% if task_pagination %}
        <div class="col-lg-5 text-left mr-3" style="margin-right: 100px !important;">
          <h2 class="text-white pt-3 mt-n5">
            <a href="" class="text-white"> Recent tasks</a>
          </h2>
          <table class="table table-bordered">
            <thead class="lead text-white mt-3">
              <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Story points</th>
                <th>Completed</th>
              </tr>
            </thead>
              <tbody>
                {% for task in task_pagination %}
                  <tr>
                    <td><a href="">{{ task.name }}</a></td>
                    <td>{{ task.type }}</td>
                    <td class="text-center">{{ task.story_points }}</td>
                    <td class="text-center"> {{ task.is_completed|yesno:"✅,❌" }}</td>
                  </tr>
                {% endfor %}
              </tbody>
          </table>
          <div class="pagination mt-3">
              <span class="step-links">
                  {% if task_pagination.has_previous %}
                      <a href="?page={{ task_pagination.previous_page_number }}"> << </a>
                  {% endif %}

                  <span class="current">
                      {{ task_pagination.number }} of {{ task_pagination.paginator.num_pages }}.
                  </span>

                  {% if task_pagination.has_next %}
                      <a href="?page={{ task_pagination.next_page_number }}"> >> </a>
                  {% endif %}
              </span>
          </div>
        </div>
      {% endif %}
    </div>
      <div class="position-absolute w-100 z-index-1 bottom-0">
        <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 40" preserveAspectRatio="none" shape-rendering="auto">
          <defs>
            <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
          </defs>
          <g class="moving-waves">
            <use xlink:href="#gentle-wave" x="48" y="-1" fill="rgba(255,255,255,0.40" />
            <use xlink:href="#gentle-wave" x="48" y="3" fill="rgba(255,255,255,0.35)" />
            <use xlink:href="#gentle-wave" x="48" y="5" fill="rgba(255,255,255,0.25)" />
            <use xlink:href="#gentle-wave" x="48" y="8" fill="rgba(255,255,255,0.20)" />
            <use xlink:href="#gentle-wave" x="48" y="13" fill="rgba(255,255,255,0.15)" />
            <use xlink:href="#gentle-wave" x="48" y="16" fill="rgba(255,255,255,0.95" />
          </g>
        </svg>
      </div>
    </div>
  </header>

{% endblock %}
